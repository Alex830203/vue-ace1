{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport Homepage from '../components/Homepage.vue';\nimport Currency_conversionpage from '../components/Currency_conversionpage.vue';\nimport APIpage from '../components/APIpage.vue';\nimport Crossbetpage from '../components/Crossbetpage.vue';\nimport Suspiciousplayerpage from '../components/Suspiciousplayerpage.vue';\nimport TGBOTpage from '../components/TGBOTpage.vue';\nimport Playroadpage from '../components/Playroadpage.vue';\nconst routes = [{\n  path: '/',\n  name: 'home',\n  component: Homepage\n}, {\n  path: '/currency_conversion',\n  name: 'currency_conversion',\n  component: Currency_conversionpage,\n  props: route => ({\n    token: route.query.token\n  }),\n  meta: {\n    requiresAuth: true\n  } // 添加 requiresAuth 元信息\n}, {\n  path: '/api',\n  name: 'api',\n  component: APIpage,\n  props: route => ({\n    token: route.query.token\n  }),\n  meta: {\n    requiresAuth: true\n  } // 添加 requiresAuth 元信息\n}, {\n  path: '/tgbot',\n  name: 'tgbot',\n  component: TGBOTpage,\n  props: route => ({\n    token: route.query.token\n  }),\n  meta: {\n    requiresAuth: true\n  } // 添加 requiresAuth 元信息\n}, {\n  path: '/playroad',\n  name: 'playroad',\n  component: Playroadpage,\n  props: route => ({\n    token: route.query.token\n  }),\n  meta: {\n    requiresAuth: true\n  } // 添加 requiresAuth 元信息\n}, {\n  path: '/crossbet',\n  name: 'crossbet',\n  component: Crossbetpage,\n  props: route => ({\n    token: route.query.token\n  }),\n  meta: {\n    requiresAuth: true\n  } // 添加 requiresAuth 元信息\n}, {\n  path: '/suspiciousplayer',\n  name: 'suspiciousplayer',\n  component: Suspiciousplayerpage,\n  props: route => ({\n    token: route.query.token\n  }),\n  meta: {\n    requiresAuth: true\n  } // 添加 requiresAuth 元信息\n}\n// other routes\n];\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\n\n// 添加導航守衛\nrouter.beforeEach((to, from, next) => {\n  const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    // 如果路由需要驗證\n    if (!isLoggedIn) {\n      // 如果未登入，導向登入頁面\n      next({\n        name: 'home'\n      });\n    } else {\n      // 如果已登入，繼續\n      next();\n    }\n  } else {\n    // 如果路由不需要驗證，繼續\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","Homepage","Currency_conversionpage","APIpage","Crossbetpage","Suspiciousplayerpage","TGBOTpage","Playroadpage","routes","path","name","component","props","route","token","query","meta","requiresAuth","router","history","beforeEach","to","from","next","isLoggedIn","localStorage","getItem","matched","some","record"],"sources":["C:/Users/u0921/vue-ace1/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\r\nimport Homepage from '../components/Homepage.vue';\r\nimport Currency_conversionpage from '../components/Currency_conversionpage.vue';\r\nimport APIpage from '../components/APIpage.vue';\r\nimport Crossbetpage from '../components/Crossbetpage.vue';\r\nimport Suspiciousplayerpage from '../components/Suspiciousplayerpage.vue';\r\nimport TGBOTpage from '../components/TGBOTpage.vue';\r\nimport Playroadpage from '../components/Playroadpage.vue';\r\n\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: 'home',\r\n    component: Homepage,\r\n  },  \r\n  {\r\n    path: '/currency_conversion',\r\n    name: 'currency_conversion',\r\n    component: Currency_conversionpage,\r\n    props: (route) => ({ token: route.query.token }),\r\n    meta: { requiresAuth: true } // 添加 requiresAuth 元信息\r\n  },  \r\n  {\r\n    path: '/api',\r\n    name: 'api',\r\n    component: APIpage,\r\n    props: (route) => ({ token: route.query.token }),\r\n    meta: { requiresAuth: true } // 添加 requiresAuth 元信息\r\n  },  \r\n  {\r\n    path: '/tgbot',\r\n    name: 'tgbot',\r\n    component: TGBOTpage,\r\n    props: (route) => ({ token: route.query.token }),\r\n    meta: { requiresAuth: true } // 添加 requiresAuth 元信息\r\n\r\n  },\r\n  {\r\n    path: '/playroad',\r\n    name: 'playroad',\r\n    component: Playroadpage,\r\n    props: (route) => ({ token: route.query.token }),\r\n    meta: { requiresAuth: true } // 添加 requiresAuth 元信息\r\n  },\r\n  {\r\n    path: '/crossbet',\r\n    name: 'crossbet',\r\n    component: Crossbetpage,\r\n    props: (route) => ({ token: route.query.token }),\r\n    meta: { requiresAuth: true } // 添加 requiresAuth 元信息\r\n  },\r\n  {\r\n    path: '/suspiciousplayer',\r\n    name: 'suspiciousplayer',\r\n    component: Suspiciousplayerpage,\r\n    props: (route) => ({ token: route.query.token }),\r\n    meta: { requiresAuth: true } // 添加 requiresAuth 元信息\r\n  },\r\n  // other routes\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes\r\n});\r\n\r\n// 添加導航守衛\r\nrouter.beforeEach((to, from, next) => {\r\n  const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';\r\n\r\n  if (to.matched.some(record => record.meta.requiresAuth)) {\r\n    // 如果路由需要驗證\r\n    if (!isLoggedIn) {\r\n      // 如果未登入，導向登入頁面\r\n      next({ name: 'home' });\r\n    } else {\r\n      // 如果已登入，繼續\r\n      next();\r\n    }\r\n  } else {\r\n    // 如果路由不需要驗證，繼續\r\n    next();\r\n  }\r\n});\r\n\r\nexport default router;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}