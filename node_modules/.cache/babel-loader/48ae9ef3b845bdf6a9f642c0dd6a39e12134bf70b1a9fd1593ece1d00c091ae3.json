{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-7ac30486\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  style: {\n    \"margin-top\": \"4%\"\n  }\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"timeFrom\",\n  class: \"custom-label\"\n}, \"開始時間：\", -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"timeTo\",\n  class: \"custom-label\"\n}, \"結束時間：\", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  key: 0,\n  class: \"loading-spinner\"\n};\nconst _hoisted_5 = {\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"space-between\",\n    \"align-items\": \"center\"\n  }\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"可疑玩家名單:\", -1 /* HOISTED */));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"sub-title\"\n}, \"(相同IP，不同用戶名)\", -1 /* HOISTED */));\nconst _hoisted_8 = {\n  class: \"custom-table\"\n};\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", {\n  style: {\n    \"width\": \"5%\"\n  }\n}, \"NO.\", -1 /* HOISTED */));\nconst _hoisted_10 = {\n  style: {\n    \"display\": \"flex\",\n    \"justify-content\": \"space-between\",\n    \"align-items\": \"center\"\n  }\n};\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"可疑牌局名單:\", -1 /* HOISTED */));\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"sub-title\"\n}, \"(相同IP，相同牌局號，不同用戶名)\", -1 /* HOISTED */));\nconst _hoisted_13 = {\n  class: \"custom-table\"\n};\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", {\n  style: {\n    \"width\": \"5%\"\n  }\n}, \"NO.\", -1 /* HOISTED */));\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"th\", null, \"用戶名\", -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _withDirectives(_createElementVNode(\"input\", {\n    type: \"datetime-local\",\n    class: \"custom-input\",\n    id: \"timeFrom\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.timeFrom = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.timeFrom]]), _hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    type: \"datetime-local\",\n    class: \"custom-input\",\n    id: \"timeTo\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.timeTo = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.timeTo]]), _createElementVNode(\"button\", {\n    class: \"custom-time\",\n    onClick: _cache[2] || (_cache[2] = $event => $options.setTimeRange('today'))\n  }, \"今日\"), _createElementVNode(\"button\", {\n    class: \"custom-time\",\n    onClick: _cache[3] || (_cache[3] = $event => $options.setTimeRange('yesterday'))\n  }, \"昨日\"), _createElementVNode(\"button\", {\n    class: \"custom-time\",\n    onClick: _cache[4] || (_cache[4] = $event => $options.setTimeRange('last3days'))\n  }, \"三日\"), _createElementVNode(\"button\", {\n    class: \"custom-time\",\n    onClick: _cache[5] || (_cache[5] = $event => $options.setTimeRange('thisWeek'))\n  }, \"本周\"), _createElementVNode(\"button\", {\n    class: \"custom-time\",\n    onClick: _cache[6] || (_cache[6] = $event => $options.setTimeRange('lastWeek'))\n  }, \"上周\"), _createElementVNode(\"button\", {\n    onClick: _cache[7] || (_cache[7] = (...args) => $options.submit && $options.submit(...args)),\n    class: \"custom-button\",\n    style: {\n      \"margin-left\": \"20px\"\n    }\n  }, \"確定\"), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, \"搜尋中...\")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _createElementVNode(\"button\", {\n    class: \"custom-button\",\n    style: {\n      \"margin-left\": \"auto\",\n      \"margin-right\": \"1%\"\n    },\n    onClick: _cache[8] || (_cache[8] = () => {\n      $options.exportCsv($options.filteredData, '可疑玩家名單', false);\n    })\n  }, \" 導出CSV \")]), _hoisted_7, _createElementVNode(\"table\", _hoisted_8, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_hoisted_9, _createElementVNode(\"th\", null, \"IP (\" + _toDisplayString($options.getTotalIPs($options.filteredData)) + \")\", 1 /* TEXT */), _createElementVNode(\"th\", null, \"代理 (\" + _toDisplayString($options.getTotalAgents($options.filteredData)) + \")\", 1 /* TEXT */), _createElementVNode(\"th\", null, \"用戶名 (\" + _toDisplayString($options.getTotalUsernames($options.filteredData)) + \")\", 1 /* TEXT */)])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredData, (records, userSessionIp, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: userSessionIp\n    }, [_createElementVNode(\"td\", null, _toDisplayString(index + 1), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(userSessionIp), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(records.agentInfo, (agentInfo, index) => {\n      return _openBlock(), _createElementBlock(\"li\", {\n        key: index\n      }, _toDisplayString(agentInfo.agentCode), 1 /* TEXT */);\n    }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"td\", null, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(records.agentInfo, (agentInfo, index) => {\n      return _openBlock(), _createElementBlock(\"li\", {\n        key: index\n      }, _toDisplayString(agentInfo.userCodes.join(\", \")), 1 /* TEXT */);\n    }), 128 /* KEYED_FRAGMENT */))])])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_10, [_hoisted_11, _createElementVNode(\"button\", {\n    class: \"custom-button\",\n    style: {\n      \"margin-left\": \"auto\",\n      \"margin-right\": \"1%\"\n    },\n    onClick: _cache[9] || (_cache[9] = () => {\n      $options.exportCsv($options.filteredData2, '可疑牌局名單', true);\n    })\n  }, \" 導出CSV \")]), _hoisted_12, _createElementVNode(\"table\", _hoisted_13, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_hoisted_14, _createElementVNode(\"th\", null, \"IP (\" + _toDisplayString($options.getTotalIPs($options.filteredData2)) + \")\", 1 /* TEXT */), _createElementVNode(\"th\", null, \"牌局號 (\" + _toDisplayString($options.getTotalRounds($options.filteredData2)) + \")\", 1 /* TEXT */), _hoisted_15])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredData2, (records, userSessionIp, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: userSessionIp\n    }, [_createElementVNode(\"td\", null, _toDisplayString(index + 1), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(userSessionIp), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(records.roundInfo, (roundInfo, index) => {\n      return _openBlock(), _createElementBlock(\"li\", {\n        key: index\n      }, _toDisplayString(roundInfo.roundCode), 1 /* TEXT */);\n    }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"td\", null, [_createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(records.roundInfo, (roundInfo, index) => {\n      return _openBlock(), _createElementBlock(\"li\", {\n        key: index\n      }, _toDisplayString(roundInfo.userCodes.join(\", \")), 1 /* TEXT */);\n    }), 128 /* KEYED_FRAGMENT */))])])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["style","_createElementVNode","for","class","_createElementBlock","_hoisted_1","_hoisted_2","type","id","$data","timeFrom","$event","_hoisted_3","timeTo","onClick","_cache","$options","setTimeRange","args","submit","loading","_hoisted_4","_hoisted_5","_hoisted_6","exportCsv","filteredData","_hoisted_7","_hoisted_8","_hoisted_9","_toDisplayString","getTotalIPs","getTotalAgents","getTotalUsernames","_Fragment","_renderList","records","userSessionIp","index","key","agentInfo","agentCode","userCodes","join","_hoisted_10","_hoisted_11","filteredData2","_hoisted_12","_hoisted_13","_hoisted_14","getTotalRounds","_hoisted_15","roundInfo","roundCode"],"sources":["C:\\Users\\u0921\\vue-ace1\\src\\components\\Suspiciousplayerpage.vue"],"sourcesContent":["<!-- eslint-disable vue/multi-word-component-names -->\n<template>\n  <div style=\"margin-top: 4%\">\n    <label for=\"timeFrom\" class=\"custom-label\">開始時間：</label>\n    <input type=\"datetime-local\" class=\"custom-input\" id=\"timeFrom\" v-model=\"timeFrom\" />\n\n    <label for=\"timeTo\" class=\"custom-label\">結束時間：</label>\n    <input type=\"datetime-local\" class=\"custom-input\" id=\"timeTo\" v-model=\"timeTo\" />\n\n    <button class=\"custom-time\" @click=\"setTimeRange('today')\">今日</button>\n    <button class=\"custom-time\" @click=\"setTimeRange('yesterday')\">昨日</button>\n    <button class=\"custom-time\" @click=\"setTimeRange('last3days')\">三日</button>\n    <button class=\"custom-time\" @click=\"setTimeRange('thisWeek')\">本周</button>\n    <button class=\"custom-time\" @click=\"setTimeRange('lastWeek')\">上周</button>\n\n    <button @click=\"submit\" class=\"custom-button\" style=\"margin-left: 20px\">確定</button>\n    <div v-if=\"loading\" class=\"loading-spinner\">搜尋中...</div>\n\n    <div style=\"display: flex; justify-content: space-between; align-items: center\">\n      <h2>可疑玩家名單:</h2>\n      <button\n        class=\"custom-button\"\n        style=\"margin-left: auto; margin-right: 1%\"\n        @click=\"\n          () => {\n            exportCsv(filteredData, '可疑玩家名單', false);\n          }\n        \"\n      >\n        導出CSV\n      </button>\n    </div>\n    <h5 class=\"sub-title\">(相同IP，不同用戶名)</h5>\n\n    <table class=\"custom-table\">\n      <thead>\n        <tr>\n          <th style=\"width: 5%\">NO.</th>\n          <th>IP ({{ getTotalIPs(filteredData) }})</th>\n          <th>代理 ({{ getTotalAgents(filteredData) }})</th>\n          <th>用戶名 ({{ getTotalUsernames(filteredData) }})</th>\n        </tr>\n      </thead>\n      <tbody>\n        <template\n          v-for=\"(records, userSessionIp, index) in filteredData\"\n          :key=\"userSessionIp\"\n        >\n          <tr>\n            <td>{{ index + 1 }}</td>\n            <td>{{ userSessionIp }}</td>\n            <td>\n              <ul>\n                <li v-for=\"(agentInfo, index) in records.agentInfo\" :key=\"index\">\n                  {{ agentInfo.agentCode }}\n                </li>\n              </ul>\n            </td>\n            <td>\n              <ul>\n                <li v-for=\"(agentInfo, index) in records.agentInfo\" :key=\"index\">\n                  {{ agentInfo.userCodes.join(\", \") }}\n                </li>\n              </ul>\n            </td>\n          </tr>\n        </template>\n      </tbody>\n    </table>\n\n    <div style=\"display: flex; justify-content: space-between; align-items: center\">\n      <h2>可疑牌局名單:</h2>\n      <button\n        class=\"custom-button\"\n        style=\"margin-left: auto; margin-right: 1%\"\n        @click=\"\n          () => {\n            exportCsv(filteredData2, '可疑牌局名單', true);\n          }\n        \"\n      >\n        導出CSV\n      </button>\n    </div>\n    <h5 class=\"sub-title\">(相同IP，相同牌局號，不同用戶名)</h5>\n    <table class=\"custom-table\">\n      <thead>\n        <tr>\n          <th style=\"width: 5%\">NO.</th>\n          <th>IP ({{ getTotalIPs(filteredData2) }})</th>\n          <th>牌局號 ({{ getTotalRounds(filteredData2) }})</th>\n          <th>用戶名</th>\n        </tr>\n      </thead>\n      <tbody>\n        <template\n          v-for=\"(records, userSessionIp, index) in filteredData2\"\n          :key=\"userSessionIp\"\n        >\n          <tr>\n            <td>{{ index + 1 }}</td>\n            <td>{{ userSessionIp }}</td>\n            <td>\n              <ul>\n                <li v-for=\"(roundInfo, index) in records.roundInfo\" :key=\"index\">\n                  {{ roundInfo.roundCode }}\n                </li>\n              </ul>\n            </td>\n            <td>\n              <ul>\n                <li v-for=\"(roundInfo, index) in records.roundInfo\" :key=\"index\">\n                  {{ roundInfo.userCodes.join(\", \") }}\n                </li>\n              </ul>\n            </td>\n          </tr>\n        </template>\n      </tbody>\n    </table>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  props: {\n    token: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      userCode: \"\",\n      roundCode: \"\",\n      timeFrom: \"\",\n      timeTo: \"\",\n      page: 1,\n      pageSize: 10000,\n      responseData1: null,\n      filteredData: {},\n      filteredData2: {},\n      loading: false,\n    };\n  },\n  computed: {\n    // eslint-disable-next-line vue/no-dupe-keys\n    filteredData() {\n      if (!this.responseData1) {\n        return {};\n      }\n\n      const filteredData = {};\n\n      this.responseData1.data.forEach((record) => {\n        const key = record.sessionIp;\n\n        if (!filteredData[key]) {\n          filteredData[key] = {\n            agentInfo: [],\n            userCodes: new Set(),\n          };\n        }\n\n        const existingAgentInfo = filteredData[key].agentInfo.find(\n          (info) => info.agentCode === record.agentCode\n        );\n\n        if (existingAgentInfo) {\n          existingAgentInfo.userCodes.add(record.userCode);\n        } else {\n          filteredData[key].agentInfo.push({\n            agentCode: record.agentCode,\n            userCodes: new Set([record.userCode]),\n          });\n        }\n\n        filteredData[key].userCodes.add(record.userCode);\n      });\n\n      for (const key in filteredData) {\n        filteredData[key].userCodes = Array.from(filteredData[key].userCodes);\n\n        filteredData[key].agentInfo.forEach((info) => {\n          info.userCodes = Array.from(info.userCodes);\n        });\n      }\n\n      for (const key in filteredData) {\n        if (filteredData[key].userCodes.length < 2) {\n          delete filteredData[key];\n        }\n      }\n\n      return filteredData;\n    },\n\n    // eslint-disable-next-line vue/no-dupe-keys\n    filteredData2() {\n      if (!this.responseData1) {\n        return {};\n      }\n\n      const filteredData2 = {};\n\n      this.responseData1.data.forEach((record) => {\n        const key = record.sessionIp;\n\n        if (!filteredData2[key]) {\n          filteredData2[key] = {\n            roundInfo: [],\n            userCodes: new Set(),\n          };\n        }\n\n        const existingRoundInfo = filteredData2[key].roundInfo.find(\n          (info) => info.roundCode === record.roundCode\n        );\n\n        if (existingRoundInfo) {\n          existingRoundInfo.userCodes.add(record.userCode);\n        } else {\n          filteredData2[key].roundInfo.push({\n            roundCode: record.roundCode,\n            userCodes: new Set([record.userCode]),\n          });\n        }\n\n        filteredData2[key].userCodes.add(record.userCode);\n      });\n\n      for (const key in filteredData2) {\n        filteredData2[key].userCodes = Array.from(filteredData2[key].userCodes);\n\n        filteredData2[key].roundInfo.forEach((info) => {\n          info.userCodes = Array.from(info.userCodes);\n\n          // 如果 roundCode 為空，將其更改為 \"undefined\"\n          info.roundCode = info.roundCode || \"undefined\";\n        });\n\n        filteredData2[key].roundInfo = filteredData2[key].roundInfo.filter(\n          (info) => info.userCodes.length >= 2\n        );\n      }\n\n      for (const key in filteredData2) {\n        if (filteredData2[key].roundInfo.length === 0) {\n          delete filteredData2[key];\n        }\n      }\n\n      return filteredData2;\n    },\n  },\n\n  methods: {\n    async submit() {\n      if (!this.timeFrom) {\n        // 時間為空，顯示錯誤信息並中止提交\n        alert(\"時間不能為空\");\n        return;\n      }\n      if (!this.timeTo) {\n        // 時間為空，顯示錯誤信息並中止提交\n        alert(\"時間不能為空\");\n        return;\n      }\n\n      this.filteredData = {};\n      this.filteredData2 = {};\n\n      this.loading = true;\n\n      try {\n        const response = await axios.post(\n          \"https://nc-ugs-bo.ms16618.com/mgtapipb.MgtApiService/RptBetRec\",\n          {\n            userCode: this.userCode,\n            timeFrom: this.timeFrom + \":00\",\n            timeTo: this.timeTo + \":00\",\n            page: this.page,\n            pageSize: this.pageSize,\n            roundCode: this.roundCode,\n          },\n          {\n            headers: {\n              \"Content-Type\": \"application/json\",\n              accept: \"application/json\",\n              Authorization: `Bearer ${this.token}`, // 在這裡添加 token 到標頭中\n            },\n          }\n        );\n\n        // 將API返回的數據保存在responseData1中，以便在模板中顯示\n        this.responseData1 = response.data;\n        console.log(\"第一個API的data：\", this.responseData1);\n        this.loading = false;\n      } catch (error) {\n        // 請求失敗\n        this.loading = false;\n        console.error(\"請求失敗：\", error);\n      }\n    },\n\n    async exportCsv(data, fileName, isData2) {\n      try {\n        // 确保数据不是 undefined 或 null\n        if (!data || Object.keys(data).length === 0) {\n          console.error(\"數據為空，無法導出CSV\");\n          return;\n        }\n\n        // 将数据转换为 CSV 格式字符串\n        const csv = this.convertToCsv(data, isData2);\n\n        // 创建一个 Blob 对象\n        const blob = new Blob([csv], { type: \"text/csv;charset=utf-8;\" });\n\n        // 创建一个下载链接\n        const link = document.createElement(\"a\");\n        if (link.download !== undefined) {\n          // 支持 download 属性的浏览器\n          const url = URL.createObjectURL(blob);\n          link.setAttribute(\"href\", url);\n          link.setAttribute(\"download\", fileName + \".csv\");\n          link.style.visibility = \"hidden\";\n          document.body.appendChild(link);\n          link.click();\n          document.body.removeChild(link);\n        }\n      } catch (error) {\n        console.error(\"導出CSV失敗：\", error);\n      }\n    },\n\n    convertToCsv(data, isData2) {\n      console.log(\"isData2:\", isData2); // 新增這行\n      // 將數據轉換為 CSV 格式字符串\n      let header, body;\n\n      if (isData2) {\n        header = \"IP,Round Code,User Code\";\n        body = Object.entries(data)\n          .map(([ip, info]) =>\n            (info.roundInfo || []).map(\n              (round) =>\n                `${ip},${round.roundCode || \"\"},${(round.userCodes || []).join(\",\")}`\n            )\n          )\n          .flat()\n          .join(\"\\n\");\n      } else {\n        header = \"IP,Agent Code,User Code\";\n        body = Object.entries(data)\n          .map(([ip, info]) =>\n            (info.agentInfo || []).map(\n              (agent) =>\n                `${ip},${agent.agentCode || \"\"},${(agent.userCodes || []).join(\",\")}`\n            )\n          )\n          .flat()\n          .join(\"\\n\");\n      }\n\n      return header + \"\\n\" + body;\n    },\n\n    getTotalIPs(data) {\n      return Object.keys(data).length;\n    },\n\n    getTotalAgents(data) {\n      return Object.values(data).reduce(\n        (sum, info) => sum + (info.agentInfo || []).length,\n        0\n      );\n    },\n\n    getTotalUsernames(data) {\n      return Object.values(data).reduce(\n        (sum, info) => sum + (info.userCodes || []).length,\n        0\n      );\n    },\n\n    getTotalRounds(data) {\n      return Object.values(data).reduce(\n        (sum, info) => sum + (info.roundInfo || []).length,\n        0\n      );\n    },\n\n    setTimeRange(range) {\n      const now = new Date();\n      switch (range) {\n        case \"today\":\n          this.timeFrom = this.formatDate(\n            new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0, 0)\n          );\n          this.timeTo = this.formatDate(\n            new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1, 0, 0)\n          );\n          break;\n        case \"yesterday\":\n          // eslint-disable-next-line no-case-declarations\n          const yesterday = new Date(now);\n          yesterday.setDate(now.getDate() - 1);\n          this.timeFrom = this.formatDate(\n            new Date(\n              yesterday.getFullYear(),\n              yesterday.getMonth(),\n              yesterday.getDate(),\n              0,\n              0\n            )\n          );\n          this.timeTo = this.formatDate(\n            new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0, 0)\n          );\n          break;\n        case \"last3days\":\n          // eslint-disable-next-line no-case-declarations\n          const threeDaysAgo = new Date(now);\n          threeDaysAgo.setDate(now.getDate() - 2); // 最近三天包括今天，所以减2\n          this.timeFrom = this.formatDate(\n            new Date(\n              threeDaysAgo.getFullYear(),\n              threeDaysAgo.getMonth(),\n              threeDaysAgo.getDate(),\n              0,\n              0\n            )\n          );\n          this.timeTo = this.formatDate(\n            new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1, 0, 0)\n          );\n          break;\n        case \"thisWeek\":\n          // eslint-disable-next-line no-case-declarations\n          const thisMonday = new Date(now);\n          thisMonday.setDate(\n            now.getDate() - now.getDay() + (now.getDay() === 0 ? -6 : 1)\n          );\n          this.timeFrom = this.formatDate(\n            new Date(\n              thisMonday.getFullYear(),\n              thisMonday.getMonth(),\n              thisMonday.getDate(),\n              0,\n              0\n            )\n          );\n          this.timeTo = this.formatDate(\n            new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1, 0, 0)\n          );\n          break;\n        case \"lastWeek\":\n          // eslint-disable-next-line no-case-declarations\n          const lastMonday = new Date(now);\n          lastMonday.setDate(now.getDate() - now.getDay() - 6);\n          // eslint-disable-next-line no-case-declarations\n          const lastSunday = new Date(now);\n          lastSunday.setDate(now.getDate() - now.getDay());\n          this.timeFrom = this.formatDate(\n            new Date(\n              lastMonday.getFullYear(),\n              lastMonday.getMonth(),\n              lastMonday.getDate(),\n              0,\n              0\n            )\n          );\n          this.timeTo = this.formatDate(\n            new Date(\n              lastSunday.getFullYear(),\n              lastSunday.getMonth(),\n              lastSunday.getDate() + 1,\n              0,\n              0\n            )\n          );\n          break;\n      }\n    },\n    // 格式化日期为适合datetime-local的格式\n    formatDate(date) {\n      const year = date.getFullYear();\n      const month = (date.getMonth() + 1).toString().padStart(2, \"0\");\n      const day = date.getDate().toString().padStart(2, \"0\");\n      const hours = date.getHours().toString().padStart(2, \"0\");\n      const minutes = date.getMinutes().toString().padStart(2, \"0\");\n      return `${year}-${month}-${day}T${hours}:${minutes}`;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.custom-table {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n}\n\n.custom-table th,\n.custom-table td {\n  border: 1px solid #dfd8d8;\n  padding: 8px;\n  text-align: left;\n  text-align: center;\n}\n\n.custom-table ul {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n.custom-table th {\n  background-color: #e8f0e2;\n  width: 300px;\n}\n.custom-table tbody tr:nth-child(odd) {\n  background-color: #e9f0f1;\n}\n\n.custom-table tbody tr:nth-child(even) {\n  background-color: #e7eced;\n}\n\n.custom-table tbody tr:hover {\n  background-color: #f2f2f2;\n}\n\n.custom-label {\n  color: #000000;\n  font-size: 20px;\n  margin-right: 5px;\n  font-weight: bold;\n}\n\n.custom-input {\n  padding: 8px;\n  border: 1px solid #336699;\n  border-radius: 5px;\n  font-size: 14px;\n  margin-right: 1%;\n}\n\n.custom-time {\n  background-color: #d2f7f1;\n  color: #000000;\n  padding: 8px 12px;\n  border: none;\n  margin: 3px;\n  border-radius: 10px;\n  font-size: 16px;\n  font-weight: bold;\n  cursor: pointer; /* 指針樣式 */\n}\n\n.custom-time:hover {\n  background-color: rgb(204, 238, 189);\n  color: white;\n  cursor: pointer;\n}\n.custom-button {\n  background-color: #ddebd1;\n  color: #000000;\n  padding: 8px 12px;\n  margin: 3px;\n\n  border: none;\n  border-radius: 10px;\n  font-size: 16px;\n  font-weight: bold;\n  cursor: pointer; /* 指針樣式 */\n}\n\n.custom-button:hover {\n  background-color: #a6c0e8;\n  color: white;\n  cursor: pointer;\n}\n\n.sub-title {\n  color: #766f6f;\n  font-size: 16px;\n  margin-top: 1px;\n}\n\n.loading-spinner {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: rgba(255, 255, 255, 0.8);\n  padding: 30px;\n  border-radius: 5px;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}